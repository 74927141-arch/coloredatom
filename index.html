<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ColoredAtom</title>
<style>
*{box-sizing:border-box}
body{margin:0;font-family:Inter,system-ui,sans-serif;background:#0b0f1a;color:#fff;overflow-x:hidden}
section{padding:140px 8vw;position:relative;z-index:2}

.section-label{display:inline-block;font-size:12px;letter-spacing:.18em;text-transform:uppercase;color:#7ce7ff;margin-bottom:14px;opacity:.85}
.section-frame{position:absolute;inset:0;border-top:1px solid rgba(255,255,255,.06);border-bottom:1px solid rgba(255,255,255,.06);pointer-events:none}
h2{font-size:42px;margin-bottom:20px;background:linear-gradient(90deg,#00e5ff,#7c7cff,#ff5cff,#00ffa6);-webkit-background-clip:text;-webkit-text-fill-color:transparent}
p{max-width:900px;font-size:18px;line-height:1.6;color:#cfd6ff}

header{position:fixed;top:16px;left:50%;transform:translateX(-50%);width:calc(100% - 64px);max-width:1200px;display:flex;justify-content:center;padding:0;background:transparent;z-index:20}
.header-inner{width:100%;display:flex;align-items:center;justify-content:space-between;padding:14px 28px;border-radius:18px;background:linear-gradient(180deg,rgba(20,28,55,.75),rgba(11,15,26,.85));backdrop-filter:blur(16px);border:1px solid rgba(255,255,255,.08);box-shadow:0 20px 50px rgba(0,0,0,.45)}
.logo{font-weight:800;font-size:24px;text-align:center}
.logo span{background:linear-gradient(90deg,#00e5ff,#7c7cff,#ff5cff,#00ffa6);-webkit-background-clip:text;-webkit-text-fill-color:transparent}
nav.main-nav{display:flex;gap:28px;font-size:14px}
nav.main-nav a{position:relative;color:#cfd6ff;text-decoration:none;opacity:.85;padding:6px 2px}
nav.main-nav a::after{content:'';position:absolute;left:0;bottom:-6px;width:0;height:2px;background:linear-gradient(90deg,#00e5ff,#7c7cff,#ff5cff);transition:.3s}
nav.main-nav a:hover{opacity:1;color:#fff}
nav.main-nav a:hover::after{width:100%}
.cta{padding:10px 24px;border-radius:999px;border:1px solid rgba(255,255,255,.18);background:linear-gradient(90deg,#00e5ff,#7c7cff,#ff5cff);font-weight:600;color:#0b0f1a;cursor:pointer;box-shadow:0 10px 30px rgba(124,124,255,.45);transition:.25s}
.cta:hover{transform:translateY(-1px);box-shadow:0 16px 40px rgba(124,124,255,.65)}

.space{position:fixed;inset:0;background:radial-gradient(circle at 20% 30%,rgba(0,229,255,.12),transparent 60%),radial-gradient(circle at 70% 70%,rgba(255,92,255,.10),transparent 50%),radial-gradient(circle at 50% 50%,rgba(255,255,100,.06),transparent 70%),#0b0f1a;z-index:0;pointer-events:none}

.hero{height:100vh;display:flex;flex-direction:column;justify-content:flex-start;align-items:center;text-align:center;overflow:hidden;padding-top:80px}
.hero h1{font-size:64px;margin-bottom:24px;margin-top:0;position:relative;z-index:3}
.hero span{background:linear-gradient(90deg,#00e5ff,#7c7cff,#ff5cff,#00ffa6);-webkit-background-clip:text;-webkit-text-fill-color:transparent}

.side-icons{position:absolute;top:50%;transform:translateY(-50%);display:flex;flex-direction:column;gap:12px;z-index:4}
.side-icons.left{left:calc(50% - 340px);align-items:flex-end}
.side-icons.right{right:calc(50% - 340px);align-items:flex-start}
.mini{background:rgba(255,255,255,.06);border:1px solid rgba(255,255,255,.14);border-radius:14px;padding:10px 14px;font-size:12px;line-height:1.3;max-width:180px;backdrop-filter:blur(12px);box-shadow:0 10px 30px rgba(0,0,0,.35);opacity:0;transform:translateY(10px);transition:.6s ease}
.mini strong{display:block;font-size:13px;letter-spacing:.08em;color:#9fe7ff}
.mini span{color:#dfe6ff}
.mini:hover{opacity:1;transform:translateY(-4px);box-shadow:0 14px 40px rgba(124,124,255,.45)}

.hero .widget{max-width:1200px;width:96%;margin-top:460px;padding:28px 32px;background:rgba(255,255,255,.06);border:1px solid rgba(255,255,255,.12);border-radius:20px;backdrop-filter:blur(14px);font-size:15px;line-height:1.55;color:#e6ebff;box-shadow:0 20px 60px rgba(0,0,0,.45);position:relative;z-index:3}
.hero .widget:before{content:"⚛️ 1 SAT = 1 UNIT";position:absolute;top:-14px;left:24px;font-size:12px;letter-spacing:.12em;color:#7ce7ff;background:#0b0f1a;padding:4px 10px;border-radius:999px;border:1px solid rgba(255,255,255,.18)}

footer{position:relative;z-index:6;padding:100px 8vw 70px;background:linear-gradient(180deg,rgba(9,13,24,.65),rgba(9,13,24,.95));backdrop-filter:blur(22px);border-top:1px solid rgba(255,255,255,.14)}
.footer-inner{max-width:1200px;margin:0 auto;display:grid;grid-template-columns:1.6fr 1fr 1fr;gap:56px}
.footer-brand h3{margin:0 0 16px;font-size:24px;font-weight:900;letter-spacing:.02em}
.footer-brand h3 span{background:linear-gradient(90deg,#00e5ff,#7c7cff,#ff5cff,#00ffa6);-webkit-background-clip:text;-webkit-text-fill-color:transparent}
.footer-brand p{font-size:15px;line-height:1.7;color:#d6ddff;max-width:460px}
.footer-links h4,.footer-meta h4{margin:0 0 18px;font-size:12px;letter-spacing:.18em;text-transform:uppercase;color:#9fe7ff}
.footer-links a{display:block;margin-bottom:12px;font-size:15px;color:#cfd6ff;text-decoration:none;opacity:.8;transition:opacity .25s,transform .25s}
.footer-links a:hover{opacity:1;transform:translateX(4px)}
.footer-meta{font-size:14px;color:#b8c3ff;line-height:1.8}
.footer-bottom{margin-top:64px;padding-top:28px;border-top:1px solid rgba(255,255,255,.1);display:flex;justify-content:space-between;align-items:center;flex-wrap:wrap;gap:14px;font-size:12px;color:#aab2ff;letter-spacing:.04em}
.footer-inner{max-width:1200px;margin:0 auto;display:grid;grid-template-columns:1.4fr .8fr .8fr;gap:48px}
.footer-brand h3{margin:0 0 14px;font-size:22px;font-weight:800}
.footer-brand h3 span{background:linear-gradient(90deg,#00e5ff,#7c7cff,#ff5cff,#00ffa6);-webkit-background-clip:text;-webkit-text-fill-color:transparent}
.footer-brand p{font-size:14px;line-height:1.6;color:#cfd6ff;max-width:420px}
.footer-links h4,.footer-meta h4{margin:0 0 14px;font-size:13px;letter-spacing:.14em;text-transform:uppercase;color:#9fe7ff}
.footer-links a{display:block;margin-bottom:10px;font-size:14px;color:#cfd6ff;text-decoration:none;opacity:.85}
.footer-links a:hover{opacity:1;color:#fff}
.footer-meta{font-size:13px;color:#ffffff}
.footer-meta a{color:#ffffff;text-decoration:none;opacity:.9}
.footer-meta a:hover{opacity:1;color:#ffffff}
.footer-bottom{margin-top:48px;padding-top:24px;border-top:1px solid rgba(255,255,255,.08);display:flex;justify-content:center;align-items:center;flex-wrap:wrap;gap:12px;font-size:12px;color:#aaa;text-align:center}
@keyframes appear{to{opacity:.9;transform:translateY(0)}}
.mini{animation:appear .8s forwards}

/* ================= MOBILE OPTIMIZATION ONLY ================= */
@media (max-width: 768px){
  /* GLOBAL SAFETY */
  body{overflow-x:hidden}
  section{padding:80px 6vw}

  /* HERO */
  .hero{height:auto;min-height:100vh;padding-top:120px;padding-bottom:80px}
  .hero h1{font-size:36px;margin-bottom:24px}

  /* SIDE ICONS → GRID */
  .side-icons{
    position:static;
    transform:none;
    flex-direction:row;
    flex-wrap:wrap;
    justify-content:center;
    gap:12px;
    margin:0 auto 28px;
    max-width:100%;
  }
  .side-icons.left,.side-icons.right{left:auto;right:auto}

  .mini{
    opacity:1 !important;
    transform:none !important;
    max-width:150px;
    font-size:11.5px;
  }

  .hero .widget{
    margin-top:0;
    margin-bottom:32px;
    width:100%;
    font-size:14px;
  }

  /* ABOUT SECTION FIX */
  .about-widget{
    grid-template-columns:1fr !important;
    gap:32px !important;
    padding:32px !important;
  }

  .about-widget p{font-size:16px !important}

  .about-widget > div:first-child > div{
    flex-wrap:wrap !important;
    justify-content:center !important;
    gap:12px !important;
  }

  pre{
    white-space:pre-wrap;
    word-break:break-word;
    font-size:12px !important;
  }

  /* HEADER */
  header{top:8px}
  .header-inner{padding:10px 14px;border-radius:14px}

  /* FOOTER */
  .footer-inner{grid-template-columns:1fr;gap:32px;text-align:center}
  .footer-brand p{margin:0 auto}
  .footer-bottom{justify-content:center;text-align:center}
}

</style>
</head>
<body>
<canvas id="stars" style="position:fixed;inset:0;z-index:1;pointer-events:none"></canvas>
<div class="space"></div>
<header class="main-header">
  <div class="header-inner">
    <div class="logo"><span>ColoredAtom</span></div>
    <nav class="main-nav">
      <a href="#about">About</a>
      <a href="#atom">Atomicals</a>
      <a href="#mint">Simulation</a>
    </nav>
    <button class="cta" onclick="window.open('https://bitatom.io/arc20/coloredatom','_blank')">Mining</button>
  </div>
</header>

<section class="hero">
  <div class="side-icons left" style="--delay-base:0s">
    <div class="mini" style="animation-delay:calc(var(--delay-base) + 0s)"><strong>1 SAT</strong><span>Minimum unit of Bitcoin that backs each Colored Atom.</span></div>
    <div class="mini" style="animation-delay:calc(var(--delay-base) + .3s)"><strong>UTXO</strong><span>Native and verifiable ownership on Bitcoin Layer 1.</span></div>
    <div class="mini" style="animation-delay:calc(var(--delay-base) + .6s)"><strong>L1 BTC</strong><span>Bitcoin Proof-of-Work security and consensus.</span></div>
  </div>

  <div class="side-icons right" style="--delay-base:.6s">
    <div class="mini" style="animation-delay:calc(var(--delay-base) + 0s)"><strong>COLORS</strong><span>Native metadata that identifies satoshis.</span></div>
    <div class="mini" style="animation-delay:calc(var(--delay-base) + .3s)"><strong>TRANSFERABLE</strong><span>Transfers under Bitcoin’s native rules.</span></div>
    <div class="mini" style="animation-delay:calc(var(--delay-base) + .6s)"><strong>SUPPLY</strong><span>Fixed maximum supply of 21 million units.</span></div>
  </div>

  <h1><span>Colored Atom</span></h1>

  <div class="widget">Each issued unit is directly linked to <strong>1 native Bitcoin satoshi</strong>, ensuring that ownership, existence, and transfer of the asset rely on the same security, consensus, and immutability rules of the Bitcoin network. This is not an external promise, but a structural relationship anchored at the base layer.</div>

  <canvas id="heroAtom" style="position:absolute;top:0;left:0;width:100%;height:100%;z-index:-1"></canvas>
  </div>
</section>

<section id="about-atom">
  <div class="section-frame"></div>

  <div class="about-card" style="max-width:1200px;margin:0 auto;position:relative">
    <div class="about-glow"></div>

    <div class="about-widget" style="display:grid;grid-template-columns:1fr 1fr;gap:48px;padding:48px;border-radius:28px;background:linear-gradient(180deg,rgba(20,28,55,.85),rgba(11,15,26,.9));border:1px solid rgba(124,124,255,.25);backdrop-filter:blur(18px);box-shadow:0 40px 120px rgba(0,0,0,.65)">

      <div>
        <span class="section-label">What is Colored Atom</span>
        <h2>Native Bitcoin Colorization</h2>
        <p style="font-size:20px;line-height:1.7;max-width:560px">
          <strong>Colored Atom</strong> is a fungible Bitcoin‑native asset built on the <strong>Atomicals protocol</strong> using the <strong>ARC‑20</strong> standard.
          Each unit represents a real satoshi that has been deterministically marked with metadata — no wrapping, no bridges, no synthetic tokens.
        </p>

        <div style="margin-top:28px;display:flex;gap:18px;justify-content:center;align-items:stretch;flex-wrap:nowrap">
          <div class="mini" style="opacity:1;transform:none"><strong>1 SAT</strong><span>1:1 on‑chain backing</span></div>
          <div class="mini" style="opacity:1;transform:none"><strong>ARC‑20</strong><span>Atomicals standard</span></div>
          <div class="mini" style="opacity:1;transform:none"><strong>UTXO</strong><span>Native ownership</span></div>
          <div class="mini" style="opacity:1;transform:none"><strong>L1 BTC</strong><span>PoW security</span></div>
        </div>
      </div>

      <div style="position:relative">
        <div class="widget" style="margin-top:0">
          <strong>How it works</strong><br><br>
          <ol style="padding-left:18px;line-height:1.8;color:#cfd6ff">
            <li>Satoshis leave your wallet as normal Bitcoin UTXOs</li>
            <li>Atomicals attaches deterministic metadata</li>
            <li>Satoshis pass through Bitcoin consensus</li>
            <li>The same sats return — now expressed as <strong>Colored Atom</strong></li>
          </ol>
        </div>

        <pre style="margin-top:26px;padding:20px;border-radius:18px;background:linear-gradient(180deg,rgba(0,0,0,.65),rgba(0,0,0,.35));border:1px solid rgba(255,255,255,.18);color:#9fe7ff;font-size:13px;box-shadow:inset 0 0 0 1px rgba(255,255,255,.08)">Asset Name     : COLORED ATOM
Standard       : ARC‑20
Backing        : 1 SAT = 1 UNIT
Protocol       : Atomicals
Layer          : Bitcoin L1
Reversibility  : Burn → recover sats</pre>
      </div>

    </div>
  </div>
</section>



<section id="mine">
  <div class="section-frame"></div>
  <span class="section-label">Mining · Powered by BitAtom & AtomicalMarket</span>
  
  <h2>Mine COLOREDATOM</h2>
  <p>
    <strong>COLOREDATOM</strong> is an <strong>ARC‑20 digital token</strong> created on the Bitcoin blockchain through the <strong>Atomicals protocol</strong>.
    Its mining process uses <strong>computational power</strong> to deterministically release new units, anchoring issuance directly to Bitcoin Layer 1
    without relying on external chains, bridges, or smart‑contract platforms.
  </p>

  <div class="widget" style="margin-top:40px">
    <strong>Mining Model</strong><br><br>
    <ul style="line-height:1.8;color:#cfd6ff;padding-left:18px">
      <li>Computational mining under ARC‑20 rules</li>
      <li>Fixed maximum supply — no inflation</li>
      <li>Deterministic and verifiable on Bitcoin L1</li>
      <li>Native UTXO‑based ownership</li>
    </ul>

    <pre style="margin-top:26px;padding:20px;border-radius:18px;background:linear-gradient(180deg,rgba(0,0,0,.65),rgba(0,0,0,.35));border:1px solid rgba(255,255,255,.18);color:#9fe7ff;font-size:13px;box-shadow:inset 0 0 0 1px rgba(255,255,255,.08)">Asset          : COLOREDATOM
Standard       : ARC‑20
Protocol       : Atomicals
Total Supply   : 21,000,000
Issuance       : Computational mining
Layer          : Bitcoin L1</pre>

    <p style="margin-top:22px;color:#cfd6ff;font-size:15px">
      The legend of <strong>COLOREDATOM</strong> is born from an unknown fusion of primordial atoms.
      Upon colliding in silence, they released a hidden spectrum of colors.
      Each color represents a fragment of energy, creativity, and balance,
      forming a language that exists only in the digital realm.
      Once the <strong>21,000,000</strong> units are released, no additional atoms can ever be created.
    </p>

    <div style="margin-top:26px;display:flex;flex-direction:column;align-items:center;gap:18px">
      <div style="display:flex;gap:48px;align-items:center;justify-content:center">
        <img src="a4e207cb-1edc-4416-bede-8fdc0d0b533c.png" alt="BitAtom" style="width:48px;height:48px;object-fit:contain;filter:drop-shadow(0 0 14px rgba(255,168,0,.6))">
        <img src="bb4419b8-7641-4d61-a392-1084591a7368.png" alt="AtomicalMarket" style="width:48px;height:48px;object-fit:contain;filter:drop-shadow(0 0 14px rgba(255,255,255,.35))">
      </div>
      <div style="display:flex;gap:28px;flex-wrap:wrap;justify-content:center">
        <button class="cta" style="background:linear-gradient(90deg,#ffd84d,#ffb300);color:#0b0f1a;box-shadow:0 10px 30px rgba(255,200,80,.55)" onclick="window.open('https://bitatom.io/arc20/coloredatom','_blank')">Mine on BitAtom</button>
        <button class="cta" style="background:linear-gradient(180deg,#0f1116,#05060a);color:#ffffff;border:1px solid rgba(255,255,255,.18);box-shadow:0 12px 30px rgba(0,0,0,.75)" onclick="window.open('https://atomicalmarket.com/market/token/coloredatom','_blank')">Mine on AtomicalMarket</button>
      </div>
    </div>

    <div style="margin-top:16px;font-size:13px;color:#9fe7ff">
      Mining execution is handled externally on BitAtom and AtomicalMarket.<br>
      This interface provides protocol context and visualization only.
    </div>
  </div>
</section>


<section id="mint">
  <h2>Interactive Simulation: Wallet Transfer</h2>
  <p>Simulate the real flow: from your UTXO wallet you send satoshis, Atomicals processes them, and you receive those same satoshis back as 1:1 colored tokens.</p>

  <div class="widget" style="margin-top:40px">
    <strong>Wallet BTC</strong><br><br>
    Balance BTC: <span id="walletBalance">10</span> sats<br>Balance Colored Atom: <span id="coloredBalance">0</span>
    <br><br>
    <label>Enter amount to send (sats)</label><br>
    <input id="sendInput" type="number" min="1" max="10" value="2" style="width:120px;padding:6px;border-radius:8px;border:none">
    <button class="cta" style="margin-left:12px" id="confirmBtn">Confirm transaction</button>
    <div style="margin-top:14px;font-size:13px;color:#9fe7ff" id="txStatus">Waiting for signature…</div>
  </div>

  <canvas id="mintCanvas" width="900" height="300" style="margin-top:40px;width:100%;background:rgba(0,0,0,.25);border-radius:18px"></canvas>
</section>



<footer>
  <div class="footer-inner">

    <div class="footer-brand">
      <h3><span>Atomicals Community</span></h3>
      <p>
        Atomicals Community is a collaborative open‑source organization advancing the Atomicals Protocol —
        a Bitcoin‑native framework for ARC‑20 tokens, digital objects, identities and developer tooling,
        all secured directly on Bitcoin Layer 1.
      </p>
    </div>

    <div class="footer-links">
      <h4>Community</h4>
      <a href="https://github.com/atomicals-community" target="_blank" rel="noopener">GitHub Organization</a>
      <a href="https://github.com/atomicals-community/atomicals-guide" target="_blank" rel="noopener">Guides & Documentation</a>
      <a href="https://github.com/atomicals-community/awesome-atomicals" target="_blank" rel="noopener">Awesome Atomicals</a>
    </div>

    <div class="footer-meta">
      <h4>Core Projects</h4>
      <div><a href="https://github.com/atomicals-community/atomicals-js" target="_blank" rel="noopener">atomicals‑js CLI</a></div>
      <div><a href="https://github.com/atomicals-community/atomicals-electrumx" target="_blank" rel="noopener">ElectrumX Indexer</a></div>
      <div><a href="https://github.com/atomicals-community/AIPs" target="_blank" rel="noopener">Atomicals Improvement Proposals</a></div>
    </div>

  </div>

  <div class="footer-bottom">
    <div>© 2026 Colored Atom</div>
    <div>Bitcoin Layer 1 · Open Source · UTXO‑Native</div>
  </div>
</footer>

<script>
/* ===== STARFIELD ===== */
const starCanvas=document.getElementById('stars');
const sctx=starCanvas.getContext('2d');
function resizeStars(){starCanvas.width=innerWidth;starCanvas.height=innerHeight}
addEventListener('resize',resizeStars);resizeStars();
const stars=Array.from({length:300},()=>({x:Math.random()*innerWidth,y:Math.random()*innerHeight,r:Math.random()*1.5+.3,a:Math.random()*.6+.2}));
(function animStars(){
  sctx.clearRect(0,0,starCanvas.width,starCanvas.height);
  for(const st of stars){
    st.y+=0.2; if(st.y>innerHeight) st.y=0;
    sctx.fillStyle=`rgba(255,255,255,${st.a})`;
    sctx.beginPath(); sctx.arc(st.x,st.y,st.r,0,Math.PI*2); sctx.fill();
  }
  requestAnimationFrame(animStars);
})();

/* ===== HERO ATOM ===== */
const hero=document.getElementById('heroAtom');
const ctxH=hero.getContext('2d');
function resizeHero(){hero.width=window.innerWidth;hero.height=window.innerHeight}
addEventListener('resize',resizeHero);resizeHero();
let t=0;
(function atom(){
  ctxH.clearRect(0,0,hero.width,hero.height);
  t+=0.015;
  const cx=hero.width/2, cy=hero.height/2+10;
  const g=ctxH.createRadialGradient(cx,cy,0,cx,cy,60);
  g.addColorStop(0,'#ffffff');
  g.addColorStop(0.4,'#9fe7ff');
  g.addColorStop(1,'#00e5ff');
  ctxH.fillStyle=g;
  ctxH.shadowColor='#4fdcff';
  ctxH.shadowBlur=60;
  ctxH.beginPath();
  ctxH.arc(cx,cy,28,0,Math.PI*2);
  ctxH.fill();
  const colors=['#ff5cff','#00e5ff','#ffd84d'];
  for(let i=0;i<colors.length;i++){
    const c=colors[i];
    ctxH.save();
    ctxH.translate(cx,cy);
    ctxH.rotate(t+i*2*Math.PI/3);
    ctxH.scale(1,0.55);
    ctxH.strokeStyle=c;
    ctxH.lineWidth=2;
    ctxH.shadowColor=c;
    ctxH.shadowBlur=25;
    ctxH.beginPath();
    ctxH.ellipse(0,0,110,55,0,0,Math.PI*2);
    ctxH.stroke();
    ctxH.restore();
  }
  requestAnimationFrame(atom);
})();

/* ===== MINT SIMULATION ===== */
const mintCanvas=document.getElementById('mintCanvas');
const mctx=mintCanvas.getContext('2d');
const sendInput=document.getElementById('sendInput');
const confirmBtn=document.getElementById('confirmBtn');
const walletSpan=document.getElementById('walletBalance');
const status=document.getElementById('txStatus');

let walletBalance=10; walletSpan.textContent=walletBalance;
let coloredBalance=0;
const coloredSpan=document.getElementById('coloredBalance');
coloredSpan.textContent=coloredBalance;
let particles=[];

function spawnParticles(n){
  const spacing = 18;
  const delayBetween = 450;
  const baseY = 160;

  for(let i=0;i<n;i++){
    setTimeout(()=>{
      particles.push({
        x:120,
        y: baseY + (i - (n-1)/2) * spacing,
        vx:2+Math.random(),
        stage:'out',
        token:'COLORED ATOM',
        wait:40
      });
    }, i * delayBetween);
  }
}

function drawMint(){
  mctx.clearRect(0,0,mintCanvas.width,mintCanvas.height);

  mctx.fillStyle='#9fe7ff';
  mctx.fillRect(20,120,100,80);
  mctx.fillStyle='#0b0f1a';
  mctx.font='12px monospace';
  mctx.fillText('YOUR WALLET',30,165);

  mctx.strokeStyle='#ff5cff'; mctx.lineWidth=2;
  mctx.beginPath(); mctx.arc(360,160,40,0,Math.PI*2); mctx.stroke();
  mctx.fillStyle='#ff5cff';
  mctx.fillText('ATOMICALS',320,165);

  mctx.strokeStyle='#7c7cff';
  mctx.beginPath(); mctx.rect(520,130,120,60); mctx.stroke();
  mctx.fillStyle='#7c7cff';
  mctx.fillText('BLOCKCHAIN',530,165);

  particles.forEach(p=>{
    if(p.stage==='out'){ p.x+=p.vx; if(p.x>=330) p.stage='atomicals'; }
    else if(p.stage==='atomicals'){ p.wait--; if(p.wait<=0) p.stage='toChain'; }
    else if(p.stage==='toChain'){ p.x+=p.vx; if(p.x>=540) {p.stage='blockchain'; p.wait=60;} }
    else if(p.stage==='blockchain'){ p.wait--; if(p.wait<=0) p.stage='return'; }
    else if(p.stage==='return'){ p.x-=p.vx; }

    if(p.stage==='return'){
      mctx.save(); mctx.translate(p.x,p.y);
      mctx.strokeStyle='#9fe7ff'; mctx.lineWidth=1.2;
      mctx.beginPath(); mctx.arc(0,0,6,0,Math.PI*2); mctx.stroke();
      for(let i=0;i<3;i++){ mctx.rotate(Math.PI/3); mctx.beginPath(); mctx.ellipse(0,0,10,4,0,0,Math.PI*2); mctx.stroke(); }
      mctx.restore();
      mctx.font='10px monospace'; mctx.fillStyle='#9fe7ff';
      mctx.fillText(p.token,p.x-30,p.y+22);
    } else {
      mctx.fillStyle='#ffd84d';
      mctx.beginPath(); mctx.arc(p.x,p.y,6,0,Math.PI*2); mctx.fill();
      mctx.font='10px monospace';
      mctx.fillStyle='#ffd84d';
      mctx.fillText('SATOSHI', p.x-20, p.y-10);
    }
  });

  particles = particles.filter(p=>{
    if(p.stage==='return' && p.x<=120){
      coloredBalance++;
      coloredSpan.textContent=coloredBalance;
      return false;
    }
    return true;
  });

  requestAnimationFrame(drawMint);
}
requestAnimationFrame(drawMint);

confirmBtn.onclick=()=>{
  const n=Number(sendInput.value);
  if(n<=0 || n>walletBalance){ status.textContent='Insufficient funds'; return; }
  status.textContent='Signing UTXO… sent to Atomicals';
  setTimeout(()=>{
    walletBalance-=n; walletSpan.textContent=walletBalance;
    status.textContent='Atomicals → Blockchain → returned to YOUR wallet as COLORED ATOM';
    spawnParticles(n);
  },700);
};

/* ===== WIZZ WALLET INTEGRATION — UX HONESTO (SIMULACIÓN) ===== */
let wizzAddress = null;
const connectBtn = document.getElementById('connectWalletBtn');
const mintBtn = document.getElementById('mintBtn');
const mintStatus = document.getElementById('mintStatus');

if (connectBtn) {
  connectBtn.onclick = async () => {
    const wizz = getWizzProvider();
    if (!wizz) {
      if (mintStatus) mintStatus.textContent = 'WizzWallet no detectada. (Modo simulación activo)';
      wizzAddress = 'SIMULATED_ADDRESS';
      return;
    }
    try {
      if (mintStatus) mintStatus.textContent = 'Conectando a WizzWallet…';
      const result = wizz.connect ? await wizz.connect() : await wizz.requestAccounts();
      if (Array.isArray(result)) wizzAddress = result[0];
      else if (result && result.address) wizzAddress = result.address;
      if (!wizzAddress) {
        if (mintStatus) mintStatus.textContent = 'Wallet detectada, pero sin dirección expuesta';
        return;
      }
      if (mintStatus) mintStatus.textContent = 'Conectado (solo lectura): ' + wizzAddress.slice(0,6) + '…' + wizzAddress.slice(-4);
    } catch (e) {
      wizzAddress = 'SIMULATED_ADDRESS';
      if (mintStatus) mintStatus.textContent = 'Conexión cancelada — usando simulación';
    }
  };
}

if (mintBtn) {
  mintBtn.onclick = async () => {
    if (!wizzAddress) {
      if (mintStatus) mintStatus.textContent = 'Conecta la wallet primero';
      return;
    }
    const amountInput = document.getElementById('mintAmount');
    const amount = amountInput ? Number(amountInput.value) : 0;
    if (!amount || amount <= 0) {
      if (mintStatus) mintStatus.textContent = 'Ingresa una cantidad válida de sats';
      return;
    }
    if (mintStatus) mintStatus.innerHTML = 'Simulación en curso…<br>Firmando → Atomicals → Bitcoin L1';
    setTimeout(() => {
      if (mintStatus) mintStatus.innerHTML = '✔ Simulación completada<br><small>' + amount + ' satoshis serían devueltos como <strong>COLORED ATOM</strong>.</small>';
    }, 1400);
  };
}

</script>
</body>
</html>
